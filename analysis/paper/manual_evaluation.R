#!/usr/bin/env Rscript
#
# Generates summary table for the manual evaluation.
# Input:
# - 1. The CSV file containing manual observations.
# - 2. The CSV file containing the number of bug fixing lines and non-bug fixing lines on the original VC diff.
# - 3. The CSV file containing the combined decomposition results for all the bugs.
# Output: The path where save the output table as a .tex file.

library(tidyverse)
library(xtable)

args = commandArgs(trailingOnly=TRUE)

if (length(args)!=4) {
  stop("Please provide the three input files and output file.", call.=FALSE)
}

manualObservationPath = args[1]
changedLinesCount = args[2]
combinedDecomposition = args[3]
outputFile = args[4]

# Read the manually observed tangled changes
# Use line-counts.sh to get the number of bug fixing lines and non-bug fixing lines on the original VC diff.
# Use code from group_count to have a summary per bug to get the number of groups generated by flexeme and smartcommit.